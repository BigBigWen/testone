<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title></title>
	<link rel="stylesheet" href="">
	<style>
		*{margin: 0;padding: 0;}
		.box{width: 300px;height: 200px;margin:100px auto;position: relative;overflow: hidden;}
		.imgbox{width: 1200px;height: 300px;position: absolute;top: 0;left: 0;}
		.imgbox>img{width: 300px;height: 200px;float: left;}
		ul{position: absolute;bottom: 5px;right: 5px;}
		ul>li{list-style: none;width: 20px;height: 20px;float: left;border: 1px solid black;margin: 10px;text-align: center;background-color: rgba(0,0,0,.4);}
		.active{background-color: rgba(255,0,0,.4);}
	</style>
</head>
<body>
	<div class="box">
		<div class="imgbox">
			<img src="images/cc1.jpg" alt="">
			<img src="images/cc2.jpg" alt="">
			<img src="images/cc3.jpg" alt="">
			<img src="images/cc4.jpg" alt="">
		</div>
		<ul>
			<li class="active">1</li>
			<li>2</li>
			<li>3</li>
			<li>4</li>
		</ul>
	</div>
	<script src="../lib/common.js"></script>
	<script>
		$(function(){
			var outtimer = setInterval(imgChange,2000);
			var count=0;
			function imgChange(){
				//获取当前left.每次左移300
				count++
				var currentLeft = parseInt($('.imgbox').css('left'));
				var left = currentLeft-300;
				
				if(count==4){
					count = 0;
					left=0;
				}
				$('.imgbox').css({'left':left + 'px'});
				$('li').eq(count).addClass('active').siblings().removeClass('active');
			}
			$('ul').on('click','li',function(e){
				clearInterval(outtimer);
				$(e.currentTarget).addClass('active').siblings().removeClass('active');
				count = $(e.currentTarget).index();
				var endleft = (-count*300) +'px'
				$('.imgbox').css({'left':endleft})
				outtimer = setInterval(imgChange,2000)
			})

		});
	</script>
</body>
</html>